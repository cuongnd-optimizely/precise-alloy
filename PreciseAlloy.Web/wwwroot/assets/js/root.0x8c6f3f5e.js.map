{"version":3,"file":"root.0x8c6f3f5e.js","sources":["../../../src/organisms/root/root-context.ts","../../../src/organisms/root/FrameControls.tsx","../../../src/organisms/root/ActiveItemOptions.tsx","../../../src/organisms/root/RootNav.tsx","../../../src/organisms/root/Root.tsx"],"sourcesContent":["import { RootItemModel } from '@_types/types';\nimport { createContext, useContext } from 'react';\n\nexport interface RootData {\n  activeItem?: RootItemModel;\n  setActiveItem: (item?: RootItemModel) => any;\n  isTopPanel?: boolean;\n  setTopPanel: (isTopPanel: boolean) => any;\n}\n\nexport const RootContext = createContext<RootData>({\n  setActiveItem: () => {},\n  setTopPanel: () => {},\n});\n\nexport const useRootContext = () => useContext(RootContext);\n","import { useState } from 'react';\n\nconst MIN_FRAME_SIZE = 350;\n\nconst randomIntFromInterval = (min: number, max: number): number => {\n  // min and max included\n  return Math.floor(Math.random() * (max - min + 1) + min);\n};\n\nconst FrameControls = () => {\n  const [discoTimer, setDiscoTimer] = useState<NodeJS.Timer>();\n\n  const setIFrameWidth = (width?: number) => {\n    const wrapper = document.getElementById('root-iframe-wrapper');\n    if (!wrapper) {\n      return;\n    }\n\n    if (width) {\n      wrapper.style.maxWidth = `min(100%, ${width}px)`;\n    } else {\n      wrapper.style.removeProperty('max-width');\n    }\n  };\n\n  const handleMobileClick = () => {\n    if (discoTimer) {\n      clearInterval(discoTimer);\n    }\n\n    const width = randomIntFromInterval(MIN_FRAME_SIZE, 768);\n    setIFrameWidth(width);\n  };\n\n  const handleTabletClick = () => {\n    if (discoTimer) {\n      clearInterval(discoTimer);\n    }\n\n    const width = randomIntFromInterval(768, 1024);\n    setIFrameWidth(width);\n  };\n\n  const handleDesktopClick = () => {\n    if (discoTimer) {\n      clearInterval(discoTimer);\n    }\n\n    const maxWidth = document.body.clientWidth - 300;\n\n    const width = randomIntFromInterval(1024, Math.max(1024, maxWidth));\n    setIFrameWidth(width);\n  };\n\n  const handleFullClick = () => {\n    if (discoTimer) {\n      clearInterval(discoTimer);\n    }\n\n    setIFrameWidth(undefined);\n  };\n\n  const handleRandomClick = () => {\n    if (discoTimer) {\n      clearInterval(discoTimer);\n    }\n\n    const maxWidth = document.body.clientWidth - 300;\n\n    const width = randomIntFromInterval(MIN_FRAME_SIZE, Math.max(MIN_FRAME_SIZE, maxWidth));\n    setIFrameWidth(width);\n  };\n\n  const handleDiscoClick = () => {\n    if (discoTimer) {\n      clearInterval(discoTimer);\n      return;\n    }\n\n    const timer = setInterval(() => {\n      const maxWidth = document.body.clientWidth - 300;\n\n      const width = randomIntFromInterval(MIN_FRAME_SIZE, Math.max(MIN_FRAME_SIZE, maxWidth));\n      setIFrameWidth(width);\n    }, 2000);\n\n    setDiscoTimer(timer);\n  };\n\n  return (\n    <div className=\"xpack-o-root__frame-control\">\n      <div id=\"root-actual-iframe-width\" className=\"xpack-o-root__actual-width\"></div>\n      <div className=\"xpack-o-root__controls\">\n        <button className=\"xpack-o-root__control-button\" onClick={handleMobileClick}>\n          <svg viewBox=\"0 0 24 24\" className=\"xpack-o-root__control-svg\">\n            <use xlinkHref=\"/assets/images/root.svg#phone\"></use>\n          </svg>\n        </button>\n        <button className=\"xpack-o-root__control-button\" onClick={handleTabletClick}>\n          <svg viewBox=\"0 0 24 24\" className=\"xpack-o-root__control-svg\">\n            <use xlinkHref=\"/assets/images/root.svg#tablet\"></use>\n          </svg>\n        </button>\n        <button className=\"xpack-o-root__control-button\" onClick={handleDesktopClick}>\n          <svg viewBox=\"0 0 24 24\" className=\"xpack-o-root__control-svg\">\n            <use xlinkHref=\"/assets/images/root.svg#desktop\"></use>\n          </svg>\n        </button>\n        <button className=\"xpack-o-root__control-button\" onClick={handleFullClick}>\n          <svg viewBox=\"0 0 24 24\" className=\"xpack-o-root__control-svg\">\n            <use xlinkHref=\"/assets/images/root.svg#hay\"></use>\n          </svg>\n        </button>\n        <button className=\"xpack-o-root__control-button\" onClick={handleRandomClick}>\n          <svg viewBox=\"0 0 24 24\" className=\"xpack-o-root__control-svg\">\n            <use xlinkHref=\"/assets/images/root.svg#random\"></use>\n          </svg>\n        </button>\n        <button className=\"xpack-o-root__control-button\" onClick={handleDiscoClick}>\n          <svg viewBox=\"0 0 24 24\" className=\"xpack-o-root__control-svg\">\n            <use xlinkHref=\"/assets/images/root.svg#disco-ball\"></use>\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default FrameControls;\n","import { createRef, MouseEvent, useState } from 'react';\nimport { useOnClickOutside } from './Root';\nimport { useRootContext } from './root-context';\n\nconst ActiveItemOptions = () => {\n  const { activeItem, isTopPanel } = useRootContext();\n  const key = 'pl-show-state-selector';\n  const keyExist = localStorage.getItem(key);\n  const optionItemsRef = createRef<HTMLDivElement>();\n  const buttonRef = createRef<HTMLButtonElement>();\n\n  useOnClickOutside(optionItemsRef, () => setShow(false), [buttonRef]);\n\n  const handleStateToggle = (event: MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (keyExist) {\n      localStorage.removeItem(key);\n    } else {\n      localStorage.setItem(key, 'true');\n    }\n\n    location.reload();\n    return false;\n  };\n\n  const toggleCtaText = keyExist ? 'Hide state selector' : 'Show state selector';\n\n  const StateAnimationHtml = () =>\n    keyExist ? (\n      <></>\n    ) : (\n      <div className=\"pl-state-toggle__circles\">\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n      </div>\n    );\n\n  const [show, setShow] = useState(false);\n\n  const handleClick = () => {\n    setShow(!show);\n  };\n\n  const handleChangePanelPosition = () => {\n    window.setState('MSG_IS_TOP_PANEL', isTopPanel ? 'false' : 'true');\n    setShow(false);\n  };\n\n  return activeItem ? (\n    <div>\n      <button ref={buttonRef} className={`xpack-o-root__control-button xpack-o-root__button-${show ? 'close' : 'setting'}`} onClick={handleClick}>\n        <svg viewBox=\"0 0 30 30\" className=\"xpack-o-root__control-svg\">\n          <use xlinkHref={show ? `/assets/images/root.svg#close` : '/assets/images/root.svg#setting'}></use>\n        </svg>\n      </button>\n\n      <div ref={optionItemsRef} className={`xpack-o-root__active-item-options ${show ? 'show' : ''}`}>\n        <a className=\"xpack-o-root__nav-item pl-state-toggle\" href=\"#\" onClick={handleStateToggle}>\n          <StateAnimationHtml />\n          {toggleCtaText}\n        </a>\n\n        <a className=\"xpack-o-root__nav-item panel-position\" href=\"#\" onClick={handleChangePanelPosition}>\n          {isTopPanel ? 'Set left panel' : 'Set top panel'}\n        </a>\n\n        <a className=\"xpack-o-root__nav-item\" href={activeItem.path} target=\"_blank\">\n          Open in new tab\n        </a>\n      </div>\n    </div>\n  ) : (\n    <></>\n  );\n};\n\nexport default ActiveItemOptions;\n","import { RootItemModel } from '@_types/types';\nimport { debounce } from 'lodash';\nimport { createRef, MouseEvent, RefObject, useCallback, useEffect, useState } from 'react';\nimport { useOnClickOutside } from './Root';\nimport { useRootContext } from './root-context';\n\ninterface Props {\n  routes: RootItemModel[];\n}\n\nconst RenderedItem = (item: RootItemModel) => {\n  const { activeItem, setActiveItem } = useRootContext();\n\n  const handleClick = (event: MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    window.location.hash = item.path;\n    setActiveItem(item);\n\n    return false;\n  };\n\n  const activeClass = activeItem && activeItem.path === item.path ? ' xpack-o-root__nav-item--active' : '';\n\n  return (\n    <a className={'xpack-o-root__nav-item' + activeClass} href={item.path} target=\"inner\" onClick={handleClick}>\n      {item.name}\n    </a>\n  );\n};\n\nconst RootNav = ({ routes: routesProp }: Props) => {\n  const { activeItem, setActiveItem } = useRootContext();\n  const [show, setShow] = useState(false);\n  const navItemRef = createRef<HTMLDivElement>();\n  const buttonRef = createRef<HTMLAnchorElement>();\n  const [routes, setRoutes] = useState(routesProp);\n  const [routesSearch, setRoutesSearch] = useState<RootItemModel[]>([]);\n  const [textSearch, setTextSearch] = useState('');\n\n  useOnClickOutside(navItemRef, () => setShow(false), [buttonRef]);\n\n  const handleClick = () => {\n    setShow(!show);\n  };\n\n  const handleChange = useCallback(\n    debounce((text: string) => {\n      let tempRoutes: RootItemModel[] = [],\n        tempRoutesSearch: RootItemModel[] = [];\n\n      routesProp.forEach((item) => {\n        if (\n          text.trim() &&\n          text\n            .trim()\n            .toLocaleLowerCase()\n            .split(/\\s+/)\n            .some((s) => item.name.toLocaleLowerCase().includes(s))\n        ) {\n          tempRoutesSearch.push(item);\n        } else {\n          tempRoutes.push(item);\n        }\n      });\n\n      setRoutesSearch(tempRoutesSearch);\n      setRoutes(tempRoutes);\n    }, 500),\n    []\n  );\n\n  useEffect(() => {\n    handleChange(textSearch);\n  }, [textSearch]);\n\n  return (\n    <>\n      <a ref={buttonRef} className=\"xpack-o-root__button-close\" onClick={handleClick}>\n        <button className=\"xpack-o-root__control-button xpack-o-root__button-close\">\n          <svg className=\"xpack-o-root__control-svg\">\n            <use xlinkHref={`${show ? '/assets/images/root.svg#close' : '/assets/images/root.svg#list'}`}></use>\n          </svg>\n        </button>\n      </a>\n\n      <p className=\"xpack-o-root__title\">{activeItem?.name}</p>\n\n      <div ref={navItemRef} className={`xpack-o-root__nav-items ${show ? 'show' : ''}`}>\n        <div className=\"xpack-o-root__search\">\n          <input\n            type={'text'}\n            value={textSearch}\n            placeholder=\"Find a pattern\"\n            onChange={(e) => {\n              setTextSearch(e.target.value);\n            }}\n          ></input>\n        </div>\n\n        <div className=\"xpack-o-root__items\">\n          {textSearch.trim() && (\n            <div className=\"xpack-o-root__search-matches\">\n              {routesSearch.length\n                ? routesSearch\n                    .filter((r) => r.path != '/')\n                    .sort((a, b) => (a.name < b.name ? -1 : a.name > b.name ? 1 : 0))\n                    .map((item, index) => <RenderedItem key={index} {...item} />)\n                : textSearch.trim() && <div className=\"xpack-o-root__nav-message \">No pattern matches</div>}\n            </div>\n          )}\n\n          <div className={`xpack-o-root__search-not-matches ${textSearch.trim() ? 'blur' : ''}`}>\n            {routes\n              .filter((r) => r.path != '/')\n              .sort((a, b) => (a.name < b.name ? -1 : a.name > b.name ? 1 : 0))\n              .map((item, index) => (\n                <RenderedItem key={index} {...item} />\n              ))}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default RootNav;\n","import { RootItemModel, RootModel } from '@_types/types';\nimport { RefObject, useEffect, useState } from 'react';\nimport { RootContext, RootData } from './root-context';\nimport FrameControls from './FrameControls';\nimport ActiveItemOptions from './ActiveItemOptions';\nimport RootNav from './RootNav';\nimport RequireCss from '@helpers/RequireCss';\n\nexport function useOnClickOutside(ref: RefObject<HTMLElement>, handler: any, otherDependenceRef?: RefObject<HTMLElement>[]) {\n  useEffect(() => {\n    const listener = (event: any) => {\n      // Do nothing if clicking ref's element or descendent elements\n      if (!ref.current || ref.current.contains(event.target)) {\n        return;\n      }\n\n      if (otherDependenceRef && otherDependenceRef.some((r) => r.current?.contains(event.target))) {\n        return;\n      }\n\n      handler(event);\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n\n    return () => {\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler]);\n}\n\nconst Root = ({ routes }: RootModel) => {\n  const [activeItem, setActiveItem] = useState<RootItemModel>();\n  const [isTopPanel, setTopPanel] = useState<boolean>(localStorage.getItem('MSG_IS_TOP_PANEL') === 'true');\n\n  useEffect(() => {\n    if (!activeItem) {\n      return;\n    }\n\n    const frame = document.querySelector<HTMLIFrameElement>('#root-iframe');\n    if (!frame) {\n      return;\n    }\n\n    frame.src = activeItem.path;\n    document.title = activeItem.name + ' - ' + import.meta.env.VITE_TITLE_SUFFIX;\n  }, [activeItem]);\n\n  const rootData: RootData = {\n    activeItem,\n    setActiveItem,\n    isTopPanel,\n    setTopPanel,\n  };\n\n  useEffect(() => {\n    const hash = window.location.hash;\n    const activePath = hash && hash.startsWith('#/') ? hash.substring(1) : '/pages/home';\n    const activeIndex = routes.findIndex((r) => r.path === activePath);\n    if (activeIndex >= 0) {\n      setActiveItem(routes[activeIndex]);\n    } else {\n      const homeIndex = routes.findIndex((r) => r.path === '/pages/home');\n      setActiveItem(routes[homeIndex]);\n    }\n  }, []);\n\n  const handleStorageChange = (event: StorageEvent) => {\n    switch (event.key) {\n      case 'MSG_IS_TOP_PANEL':\n        const isTopPanel = event.newValue === 'true';\n        setTopPanel(isTopPanel);\n        break;\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('storage', handleStorageChange);\n\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n    };\n  }, []);\n\n  return routes ? (\n    <RootContext.Provider value={rootData}>\n      <div className={`xpack-o-root ${isTopPanel ? 'top-panel' : ''}`}>\n        <RootNav routes={routes} />\n        <FrameControls />\n        <ActiveItemOptions />\n      </div>\n      <RequireCss path=\"b-root\" />\n    </RootContext.Provider>\n  ) : (\n    <></>\n  );\n};\n\nexport default Root;\n"],"names":["RootContext","createContext","useRootContext","useContext","MIN_FRAME_SIZE","randomIntFromInterval","min","max","FrameControls","discoTimer","setDiscoTimer","useState","setIFrameWidth","width","wrapper","jsxs","jsx","maxWidth","timer","ActiveItemOptions","activeItem","isTopPanel","key","keyExist","optionItemsRef","createRef","buttonRef","useOnClickOutside","setShow","handleStateToggle","event","toggleCtaText","StateAnimationHtml","Fragment","show","RenderedItem","item","setActiveItem","handleClick","activeClass","RootNav","routesProp","navItemRef","routes","setRoutes","routesSearch","setRoutesSearch","textSearch","setTextSearch","handleChange","useCallback","debounce","text","tempRoutes","tempRoutesSearch","s","useEffect","e","a","b","index","ref","handler","otherDependenceRef","listener","r","_a","Root","setTopPanel","frame","rootData","hash","activePath","activeIndex","homeIndex","handleStorageChange","RequireCss"],"mappings":"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"}