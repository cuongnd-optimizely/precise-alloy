{"version":3,"file":"root.0x046df8e8.js","sources":["../../../src/organisms/root/root-context.ts","../../../src/organisms/root/FrameControls.tsx","../../../src/organisms/root/useClickOutside.ts","../../../src/organisms/root/ActiveItemOptions.tsx","../../../src/organisms/root/RootNav.tsx","../../../src/organisms/root/Root.tsx"],"sourcesContent":["import { RootItemModel } from '@_types/types';\nimport { createContext, useContext } from 'react';\n\nexport interface RootData {\n  activeItem?: RootItemModel;\n  setActiveItem: (item?: RootItemModel) => void;\n  isTopPanel?: boolean;\n  setTopPanel: (isTopPanel: boolean) => void;\n}\n\nexport const RootContext = createContext<RootData>({\n  setActiveItem: () => {\n    // empty\n  },\n  setTopPanel: () => {\n    // empty\n  },\n});\n\nexport const useRootContext = () => useContext(RootContext);\n","import { useState } from 'react';\n\nconst MIN_FRAME_SIZE = 350;\nconst MSG_IFRAME_SIZE = 'MSG_IFRAME_SIZE';\n\nconst randomIntFromInterval = (min: number, max: number): number => {\n  // min and max included\n  return Math.floor(Math.random() * (max - min + 1) + min);\n};\n\nconst FrameControls = () => {\n  const [discoTimer, setDiscoTimer] = useState<NodeJS.Timer>();\n\n  const setIFrameWidth = (width?: number) => {\n    const wrapper = document.getElementById('root-iframe-wrapper');\n    if (!wrapper) {\n      return;\n    }\n\n    if (width) {\n      wrapper.style.maxWidth = `min(100%, ${width}px)`;\n      sessionStorage.setItem(MSG_IFRAME_SIZE, width + '');\n    } else {\n      wrapper.style.removeProperty('max-width');\n    }\n  };\n\n  const handleMobileClick = () => {\n    if (discoTimer) {\n      clearInterval(discoTimer);\n    }\n\n    const width = randomIntFromInterval(MIN_FRAME_SIZE, 768);\n    setIFrameWidth(width);\n  };\n\n  const handleTabletClick = () => {\n    if (discoTimer) {\n      clearInterval(discoTimer);\n    }\n\n    const width = randomIntFromInterval(768, 1024);\n    setIFrameWidth(width);\n  };\n\n  const handleDesktopClick = () => {\n    if (discoTimer) {\n      clearInterval(discoTimer);\n    }\n\n    const maxWidth = document.body.clientWidth - 300;\n\n    const width = randomIntFromInterval(1024, Math.max(1024, maxWidth));\n    setIFrameWidth(width);\n  };\n\n  const handleFullClick = () => {\n    if (discoTimer) {\n      clearInterval(discoTimer);\n    }\n\n    setIFrameWidth(undefined);\n    sessionStorage.removeItem(MSG_IFRAME_SIZE);\n  };\n\n  const handleRandomClick = () => {\n    if (discoTimer) {\n      clearInterval(discoTimer);\n    }\n\n    const maxWidth = document.body.clientWidth - 300;\n\n    const width = randomIntFromInterval(MIN_FRAME_SIZE, Math.max(MIN_FRAME_SIZE, maxWidth));\n    setIFrameWidth(width);\n    sessionStorage.setItem(MSG_IFRAME_SIZE, width + '');\n  };\n\n  const handleDiscoClick = () => {\n    if (discoTimer) {\n      clearInterval(discoTimer);\n      return;\n    }\n\n    const timer = setInterval(() => {\n      const maxWidth = document.body.clientWidth - 300;\n\n      const width = randomIntFromInterval(MIN_FRAME_SIZE, Math.max(MIN_FRAME_SIZE, maxWidth));\n      setIFrameWidth(width);\n      sessionStorage.setItem(MSG_IFRAME_SIZE, width + '');\n    }, 2000);\n\n    setDiscoTimer(timer);\n  };\n\n  return (\n    <div className=\"xpack-o-root__frame-control\">\n      <div id=\"root-actual-iframe-width\" className=\"xpack-o-root__actual-width\"></div>\n      <div className=\"xpack-o-root__controls\">\n        <button className=\"xpack-o-root__control-button\" onClick={handleMobileClick}>\n          <svg viewBox=\"0 0 24 24\" className=\"xpack-o-root__control-svg\">\n            <use xlinkHref=\"/assets/images/root.svg#phone\"></use>\n          </svg>\n        </button>\n        <button className=\"xpack-o-root__control-button\" onClick={handleTabletClick}>\n          <svg viewBox=\"0 0 24 24\" className=\"xpack-o-root__control-svg\">\n            <use xlinkHref=\"/assets/images/root.svg#tablet\"></use>\n          </svg>\n        </button>\n        <button className=\"xpack-o-root__control-button\" onClick={handleDesktopClick}>\n          <svg viewBox=\"0 0 24 24\" className=\"xpack-o-root__control-svg\">\n            <use xlinkHref=\"/assets/images/root.svg#desktop\"></use>\n          </svg>\n        </button>\n        <button className=\"xpack-o-root__control-button\" onClick={handleFullClick}>\n          <svg viewBox=\"0 0 24 24\" className=\"xpack-o-root__control-svg\">\n            <use xlinkHref=\"/assets/images/root.svg#hay\"></use>\n          </svg>\n        </button>\n        <button className=\"xpack-o-root__control-button\" onClick={handleRandomClick}>\n          <svg viewBox=\"0 0 24 24\" className=\"xpack-o-root__control-svg\">\n            <use xlinkHref=\"/assets/images/root.svg#random\"></use>\n          </svg>\n        </button>\n        <button className=\"xpack-o-root__control-button\" onClick={handleDiscoClick}>\n          <svg viewBox=\"0 0 24 24\" className=\"xpack-o-root__control-svg\">\n            <use xlinkHref=\"/assets/images/root.svg#disco-ball\"></use>\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default FrameControls;\n","import { RefObject, useEffect } from \"react\";\n\nexport function useOnClickOutside(ref: RefObject<HTMLElement>, handler: (event: MouseEvent | TouchEvent) => void, otherDependenceRef?: RefObject<HTMLElement>[]) {\n  useEffect(() => {\n    const listener = (event: MouseEvent | TouchEvent) => {\n      // Do nothing if clicking ref's element or descendent elements\n      if (!event.target || !ref.current || ref.current.contains(event.target as Node)) {\n        return;\n      }\n\n      if (otherDependenceRef && otherDependenceRef.some((r) => r.current?.contains(event.target as Node))) {\n        return;\n      }\n\n      handler(event);\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n\n    return () => {\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, otherDependenceRef]);\n}","import { createRef, MouseEvent, useState } from 'react';\nimport { useRootContext } from './root-context';\nimport { viteAbsoluteUrl } from '@helpers/functions';\nimport { useOnClickOutside } from './useClickOutside';\n\nconst ActiveItemOptions = () => {\n  const { activeItem, isTopPanel } = useRootContext();\n  const key = 'pl-show-state-selector';\n  const keyExist = localStorage.getItem(key);\n  const optionItemsRef = createRef<HTMLDivElement>();\n  const buttonRef = createRef<HTMLButtonElement>();\n\n  useOnClickOutside(optionItemsRef, () => setShow(false), [buttonRef]);\n\n  const handleStateToggle = (event: MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (keyExist) {\n      localStorage.removeItem(key);\n    } else {\n      localStorage.setItem(key, 'true');\n    }\n\n    location.reload();\n    return false;\n  };\n\n  const handleThemeToggle = () => {\n    window.dispatchEvent(new CustomEvent('toggleTheme'));\n  };\n\n  const toggleCtaText = keyExist ? 'Hide state selector' : 'Show state selector';\n\n  const StateAnimationHtml = () =>\n    keyExist ? (\n      <></>\n    ) : (\n      <div className=\"pl-state-toggle__circles\">\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n        <div className=\"pl-state-toggle__circle\"></div>\n      </div>\n    );\n\n  const [show, setShow] = useState(false);\n\n  const handleClick = () => {\n    setShow(!show);\n  };\n\n  const handleChangePanelPosition = () => {\n    const key = 'MSG_IS_TOP_PANEL';\n    const value = isTopPanel ? 'false' : 'true';\n\n    window.localStorage.setItem(key, value);\n    window.dispatchEvent(new StorageEvent('storage', { key, newValue: value }));\n\n    setShow(false);\n  };\n\n  return activeItem ? (\n    <div>\n      <button ref={buttonRef} className={`xpack-o-root__control-button xpack-o-root__button-${show ? 'close' : 'setting'}`} onClick={handleClick}>\n        <svg viewBox=\"0 0 30 30\" className=\"xpack-o-root__control-svg\">\n          <use xlinkHref={show ? `/assets/images/root.svg#close` : '/assets/images/root.svg#setting'}></use>\n        </svg>\n      </button>\n\n      <div ref={optionItemsRef} className={`xpack-o-root__active-item-options ${show ? 'show' : ''}`}>\n        <a className=\"xpack-o-root__nav-item pl-state-toggle\" href=\"#\" onClick={handleStateToggle}>\n          <StateAnimationHtml />\n          {toggleCtaText}\n        </a>\n\n        <a className=\"xpack-o-root__nav-item pl-state-toggle\" href=\"#\" onClick={handleThemeToggle}>\n          Change theme\n        </a>\n\n        <a className=\"xpack-o-root__nav-item panel-position\" href=\"#\" onClick={handleChangePanelPosition}>\n          {isTopPanel ? 'Set left panel' : 'Set top panel'}\n        </a>\n\n        <a className=\"xpack-o-root__nav-item\" href={viteAbsoluteUrl(activeItem.path, true)} target=\"_blank\">\n          Open in new tab\n        </a>\n      </div>\n    </div>\n  ) : (\n    <></>\n  );\n};\n\nexport default ActiveItemOptions;\n","import { RootItemModel } from '@_types/types';\nimport { debounce } from 'lodash';\nimport { createRef, MouseEvent, useCallback, useEffect, useState } from 'react';\nimport { useRootContext } from './root-context';\nimport { viteAbsoluteUrl } from '@helpers/functions';\nimport { useOnClickOutside } from './useClickOutside';\n\ninterface Props {\n  routes: RootItemModel[];\n}\n\nconst RenderedItem = (item: RootItemModel) => {\n  const { activeItem, setActiveItem } = useRootContext();\n\n  const handleClick = (event: MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    window.location.hash = item.path;\n    setActiveItem(item);\n\n    return false;\n  };\n\n  const activeClass = activeItem && activeItem.path === item.path ? ' xpack-o-root__nav-item--active' : '';\n\n  return (\n    <a className={'xpack-o-root__nav-item' + activeClass} href={viteAbsoluteUrl(item.path, true)} target=\"inner\" onClick={handleClick}>\n      {item.name}\n    </a>\n  );\n};\n\nconst RootNav = ({ routes: routesProp }: Props) => {\n  const { activeItem } = useRootContext();\n  const [show, setShow] = useState(false);\n  const navItemRef = createRef<HTMLDivElement>();\n  const buttonRef = createRef<HTMLAnchorElement>();\n  const [routes, setRoutes] = useState(routesProp);\n  const [routesSearch, setRoutesSearch] = useState<RootItemModel[]>([]);\n  const [textSearch, setTextSearch] = useState('');\n\n  useOnClickOutside(navItemRef, () => setShow(false), [buttonRef]);\n\n  const handleClick = () => {\n    setShow(!show);\n  };\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const handleChange = useCallback(\n    debounce((text: string) => {\n      const tempRoutes: RootItemModel[] = [],\n        tempRoutesSearch: RootItemModel[] = [];\n\n      routesProp.forEach((item) => {\n        if (\n          text.trim() &&\n          text\n            .trim()\n            .toLocaleLowerCase()\n            .split(/\\s+/)\n            .some((s) => item.name.toLocaleLowerCase().includes(s))\n        ) {\n          tempRoutesSearch.push(item);\n        } else {\n          tempRoutes.push(item);\n        }\n      });\n\n      setRoutesSearch(tempRoutesSearch);\n      setRoutes(tempRoutes);\n    }, 500),\n    []\n  );\n\n  useEffect(() => {\n    handleChange(textSearch);\n  }, [handleChange, textSearch]);\n\n  return (\n    <>\n      <a ref={buttonRef} className=\"xpack-o-root__button-close\" onClick={handleClick}>\n        <button className=\"xpack-o-root__control-button xpack-o-root__button-close\">\n          <svg className=\"xpack-o-root__control-svg\">\n            <use xlinkHref={viteAbsoluteUrl('/assets/images/root.svg#' + (show ? 'close' : 'list'))}></use>\n          </svg>\n        </button>\n      </a>\n\n      <p className=\"xpack-o-root__title\">{activeItem?.name}</p>\n\n      <div ref={navItemRef} className={`xpack-o-root__nav-items ${show ? 'show' : ''}`}>\n        <div className=\"xpack-o-root__search\">\n          <input\n            type={'text'}\n            value={textSearch}\n            placeholder=\"Find a pattern\"\n            onChange={(e) => {\n              setTextSearch(e.target.value);\n            }}\n          ></input>\n        </div>\n\n        <div className=\"xpack-o-root__items\">\n          {textSearch.trim() && (\n            <div className=\"xpack-o-root__search-matches\">\n              {routesSearch.length\n                ? routesSearch\n                    .filter((r) => r.path != '/' && r.path != '/index')\n                    .sort((a, b) => (a.name < b.name ? -1 : a.name > b.name ? 1 : 0))\n                    .map((item, index) => <RenderedItem key={index} {...item} />)\n                : textSearch.trim() && <div className=\"xpack-o-root__nav-message \">No pattern matches</div>}\n            </div>\n          )}\n\n          <div className={`xpack-o-root__search-not-matches ${textSearch.trim() ? 'blur' : ''}`}>\n            {routes\n              .filter((r) => r.path != '/' && r.path != '/index')\n              .sort((a, b) => (a.name < b.name ? -1 : a.name > b.name ? 1 : 0))\n              .map((item, index) => (\n                <RenderedItem key={index} {...item} />\n              ))}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default RootNav;\n","import { RootItemModel, RootModel } from '@_types/types';\nimport { useEffect, useState } from 'react';\nimport { RootContext, RootData } from './root-context';\nimport FrameControls from './FrameControls';\nimport ActiveItemOptions from './ActiveItemOptions';\nimport RootNav from './RootNav';\nimport { viteAbsoluteUrl } from '@helpers/functions';\n\nconst Root = ({ routes }: RootModel) => {\n  const [activeItem, setActiveItem] = useState<RootItemModel>();\n  const [isTopPanel, setTopPanel] = useState<boolean>(localStorage.getItem('MSG_IS_TOP_PANEL') === 'true');\n\n  useEffect(() => {\n    if (!activeItem) {\n      return;\n    }\n\n    const frame = document.querySelector<HTMLIFrameElement>('#root-iframe');\n    if (!frame) {\n      return;\n    }\n\n    frame.src = viteAbsoluteUrl(activeItem.path, true);\n    document.title = activeItem.name + ' - ' + import.meta.env.VITE_TITLE_SUFFIX;\n  }, [activeItem]);\n\n  const rootData: RootData = {\n    activeItem,\n    setActiveItem,\n    isTopPanel,\n    setTopPanel,\n  };\n\n  useEffect(() => {\n    const hash = window.location.hash;\n    const activePath = hash && hash.startsWith('#/') ? hash.substring(1) : '/pages/home';\n    const activeIndex = routes.findIndex((r) => r.path === activePath);\n    if (activeIndex >= 0) {\n      setActiveItem(routes[activeIndex]);\n    } else {\n      const homeIndex = routes.findIndex((r) => r.path === '/pages/home');\n      setActiveItem(routes[homeIndex]);\n    }\n  }, [routes]);\n\n  const handleStorageChange = (event: StorageEvent) => {\n    switch (event.key) {\n      case 'MSG_IS_TOP_PANEL':\n        setTopPanel(event.newValue === 'true');\n        break;\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('storage', handleStorageChange);\n\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n    };\n  }, []);\n\n  return routes ? (\n    <RootContext.Provider value={rootData}>\n      <div className={`xpack-o-root ${isTopPanel ? 'top-panel' : ''}`}>\n        <RootNav routes={routes} />\n        <FrameControls />\n        <ActiveItemOptions />\n      </div>\n    </RootContext.Provider>\n  ) : (\n    <></>\n  );\n};\n\nexport default Root;\n"],"names":["RootContext","createContext","useRootContext","useContext","MIN_FRAME_SIZE","MSG_IFRAME_SIZE","randomIntFromInterval","min","max","FrameControls","discoTimer","setDiscoTimer","useState","setIFrameWidth","width","wrapper","jsxs","jsx","maxWidth","timer","useOnClickOutside","ref","handler","otherDependenceRef","useEffect","listener","event","r","_a","ActiveItemOptions","activeItem","isTopPanel","key","keyExist","optionItemsRef","createRef","buttonRef","setShow","handleStateToggle","handleThemeToggle","toggleCtaText","StateAnimationHtml","Fragment","show","value","viteAbsoluteUrl","RenderedItem","item","setActiveItem","handleClick","activeClass","RootNav","routesProp","navItemRef","routes","setRoutes","routesSearch","setRoutesSearch","textSearch","setTextSearch","handleChange","useCallback","debounce","text","tempRoutes","tempRoutesSearch","s","e","b","index","Root","setTopPanel","frame","rootData","hash","activePath","activeIndex","homeIndex","handleStorageChange"],"mappings":"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"}