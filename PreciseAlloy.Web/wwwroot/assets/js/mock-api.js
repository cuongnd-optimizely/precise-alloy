var r=Object.defineProperty;var c=(e,t,o)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var a=(e,t,o)=>(c(e,typeof t!="symbol"?t+"":t,o),o);class l{constructor(){a(this,"events");this.events={}}addEventListener(t){const{url:o,callback:s}=t,n=new URL(o,window.location.origin);this.events[n.href]=s}dispatch(t){const{url:o,req:s}=t,n=this.events[o.href];return typeof n=="function"?n.call(this,s):{status:404,body:{error:"NOT FOUND"}}}}const i=new l;function h(e,t){if(typeof e=="string"&&(e=new URL(e,window.location.origin)),e instanceof Request)return console.log(`${e.url}: you're using origin fetch`),window.originFetch(e,t);const o=i.dispatch({url:e,req:t});return o.status&&o.status===404?(console.log(`${e.href}: The api is not exists in mock, fallback to origin fetch`),window.originFetch(e,t)):(console.log(`${e.href}: you're using mock fetch`),new Promise(s=>{s(new Response(JSON.stringify(o.body),{status:o.status}))}))}function g(e){i.addEventListener(e)}const d=[{name:"Peg Legge",image:{src:"/samples/peg-legge.svg",width:"175",height:"175",alt:"people 1"},jobTitle:"CEO"},{name:"Richard Guerra",image:{src:"/samples/richard-guerra.svg",width:"175",height:"175",alt:"people 2"},jobTitle:"CEO"},{name:"Alexandra Stolz",image:{src:"/samples/alexandra-stolz.svg",width:"175",height:"175",alt:"people 3"},jobTitle:"CEO"},{name:"Janet Bray",image:{src:"/samples/janet-bray.svg",width:"175",height:"175",alt:"people 4"},jobTitle:"CEO"}];window.originFetch=window.fetch;window.fetch=h;g({url:"/api/avatar",callback:e=>{const t=e==null?void 0:e.method;return t&&t.toLowerCase()!=="get"?{body:"Only allow GET method"}:{body:d}}});
//# sourceMappingURL=mock-api.js.map
