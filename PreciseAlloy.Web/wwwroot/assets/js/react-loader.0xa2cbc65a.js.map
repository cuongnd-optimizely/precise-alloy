{"version":3,"file":"react-loader.0xa2cbc65a.js","sources":["../../../src/react-loader.tsx"],"sourcesContent":["import { lazy } from 'react';\nimport ReactDOM from 'react-dom/client';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst blocks: { [name: string]: any } = {\n  root: lazy(() => import('./organisms/root/Root')),\n  people: lazy(() => import('./organisms/people/People')),\n  header: lazy(() => import('./organisms/header/Header')),\n};\n\nconst loadComponent = (scriptSection: HTMLScriptElement) => {\n  const blockType = scriptSection.getAttribute('data-rct');\n  const data = scriptSection.textContent ? scriptSection.textContent : '{}';\n\n  if (!blockType || !data) {\n    return;\n  }\n\n  const Component = blocks[blockType];\n  if (Component) {\n    scriptSection.textContent = null;\n    const section = document.createElement(scriptSection.getAttribute('data-tag') ?? 'section');\n    section.className = scriptSection.getAttribute('data-class') ?? '';\n    scriptSection.replaceWith(section);\n\n    const props = JSON.parse(data);\n    ReactDOM.createRoot(section).render(<Component {...props} />);\n  } else {\n    return <></>;\n  }\n};\n\nconst loadComponents = () => {\n  // rct stands for 'react component type'\n  const scriptSections = document.querySelectorAll('script[data-rct]');\n\n  [].forEach.call(scriptSections, loadComponent);\n};\n\nloadComponents();\nwindow.addEventListener('load', () => loadComponents());\n"],"names":["blocks","lazy","__vitePreload","loadComponent","scriptSection","blockType","data","Component","section","props","ReactDOM","jsx","Fragment","loadComponents","scriptSections"],"mappings":"m/CAIMA,EAAkC,CACtC,KAAMC,EAAAA,KAAK,IAAMC,EAAA,IAAA,OAAO,sBAAuB,EAAC,kBAAA,CAAA,EAChD,OAAQD,EAAAA,KAAK,IAAMC,EAAA,IAAA,OAAO,wBAA2B,EAAC,kBAAA,CAAA,EACtD,OAAQD,EAAAA,KAAK,IAAMC,EAAA,IAAA,OAAO,wBAA2B,EAAA,kBAAA,CAAC,CACxD,EAEMC,EAAiBC,GAAqC,CACpD,MAAAC,EAAYD,EAAc,aAAa,UAAU,EACjDE,EAAOF,EAAc,YAAcA,EAAc,YAAc,KAEjE,GAAA,CAACC,GAAa,CAACC,EACjB,OAGI,MAAAC,EAAYP,EAAOK,CAAS,EAClC,GAAIE,EAAW,CACbH,EAAc,YAAc,KAC5B,MAAMI,EAAU,SAAS,cAAcJ,EAAc,aAAa,UAAU,GAAK,SAAS,EAC1FI,EAAQ,UAAYJ,EAAc,aAAa,YAAY,GAAK,GAChEA,EAAc,YAAYI,CAAO,EAE3B,MAAAC,EAAQ,KAAK,MAAMH,CAAI,EACpBI,EAAA,WAAWF,CAAO,EAAE,SAAQD,EAAW,CAAA,GAAGE,CAAO,CAAA,CAAE,MAE5D,QAASE,EAAAC,EAAA,CAAA,CAAA,CAEb,EAEMC,EAAiB,IAAM,CAErB,MAAAC,EAAiB,SAAS,iBAAiB,kBAAkB,EAEnE,CAAA,EAAG,QAAQ,KAAKA,EAAgBX,CAAa,CAC/C,EAEAU,IACA,OAAO,iBAAiB,OAAQ,IAAMA,GAAgB"}