import{j as _,a as e,F as f}from"./react-loader.0xbbdcfe13.js";import{r as l,l as y}from"./vendor.0x2c817467.js";import{v as N}from"./functions.0xb841f5f3.js";const R=l.createContext({setActiveItem:()=>{},setTopPanel:()=>{}}),I=()=>l.useContext(R),v=350,x="MSG_IFRAME_SIZE",k=(t,c)=>Math.floor(Math.random()*(c-t+1)+t),M=()=>{const[t,c]=l.useState(),s=n=>{const a=document.getElementById("root-iframe-wrapper");a&&(n?(a.style.maxWidth=`min(100%, ${n}px)`,sessionStorage.setItem(x,n+"")):a.style.removeProperty("max-width"))};return _("div",{className:"xpack-o-root__frame-control",children:[e("div",{id:"root-actual-iframe-width",className:"xpack-o-root__actual-width"}),_("div",{className:"xpack-o-root__controls",children:[e("button",{className:"xpack-o-root__control-button",onClick:()=>{t&&clearInterval(t);const n=k(v,768);s(n)},children:e("svg",{viewBox:"0 0 24 24",className:"xpack-o-root__control-svg",children:e("use",{xlinkHref:"/assets/images/root.svg#phone"})})}),e("button",{className:"xpack-o-root__control-button",onClick:()=>{t&&clearInterval(t);const n=k(768,1024);s(n)},children:e("svg",{viewBox:"0 0 24 24",className:"xpack-o-root__control-svg",children:e("use",{xlinkHref:"/assets/images/root.svg#tablet"})})}),e("button",{className:"xpack-o-root__control-button",onClick:()=>{t&&clearInterval(t);const n=document.body.clientWidth-300,a=k(1024,Math.max(1024,n));s(a)},children:e("svg",{viewBox:"0 0 24 24",className:"xpack-o-root__control-svg",children:e("use",{xlinkHref:"/assets/images/root.svg#desktop"})})}),e("button",{className:"xpack-o-root__control-button",onClick:()=>{t&&clearInterval(t),s(void 0),sessionStorage.removeItem(x)},children:e("svg",{viewBox:"0 0 24 24",className:"xpack-o-root__control-svg",children:e("use",{xlinkHref:"/assets/images/root.svg#hay"})})}),e("button",{className:"xpack-o-root__control-button",onClick:()=>{t&&clearInterval(t);const n=document.body.clientWidth-300,a=k(v,Math.max(v,n));s(a),sessionStorage.setItem(x,a+"")},children:e("svg",{viewBox:"0 0 24 24",className:"xpack-o-root__control-svg",children:e("use",{xlinkHref:"/assets/images/root.svg#random"})})}),e("button",{className:"xpack-o-root__control-button",onClick:()=>{if(t){clearInterval(t);return}const n=setInterval(()=>{const a=document.body.clientWidth-300,p=k(v,Math.max(v,a));s(p),sessionStorage.setItem(x,p+"")},2e3);c(n)},children:e("svg",{viewBox:"0 0 24 24",className:"xpack-o-root__control-svg",children:e("use",{xlinkHref:"/assets/images/root.svg#disco-ball"})})})]})]})};function P(t,c,s){l.useEffect(()=>{const r=m=>{!m.target||!t.current||t.current.contains(m.target)||s&&s.some(h=>{var u;return(u=h.current)==null?void 0:u.contains(m.target)})||c(m)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[t,c,s])}const A=()=>{const{activeItem:t,isTopPanel:c}=I(),s="pl-show-state-selector",r=localStorage.getItem(s),m=l.createRef(),h=l.createRef();P(m,()=>p(!1),[h]);const u=o=>(o.preventDefault(),o.stopPropagation(),r?localStorage.removeItem(s):localStorage.setItem(s,"true"),location.reload(),!1),d=()=>{const i=(document.documentElement.getAttribute("data-theme")??"light")=="light"?"dark":"light";document.documentElement.setAttribute("data-theme",i)},g=r?"Hide state selector":"Show state selector",n=()=>r?e(f,{}):_("div",{className:"pl-state-toggle__circles",children:[e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"})]}),[a,p]=l.useState(!1);return t?_("div",{children:[e("button",{ref:h,className:`xpack-o-root__control-button xpack-o-root__button-${a?"close":"setting"}`,onClick:()=>{p(!a)},children:e("svg",{viewBox:"0 0 30 30",className:"xpack-o-root__control-svg",children:e("use",{xlinkHref:a?"/assets/images/root.svg#close":"/assets/images/root.svg#setting"})})}),_("div",{ref:m,className:`xpack-o-root__active-item-options ${a?"show":""}`,children:[_("a",{className:"xpack-o-root__nav-item pl-state-toggle",href:"#",onClick:u,children:[e(n,{}),g]}),e("a",{className:"xpack-o-root__nav-item pl-state-toggle",href:"#",onClick:d,children:"Change theme"}),e("a",{className:"xpack-o-root__nav-item panel-position",href:"#",onClick:()=>{const o="MSG_IS_TOP_PANEL",i=c?"false":"true";window.localStorage.setItem(o,i),window.dispatchEvent(new StorageEvent("storage",{key:o,newValue:i})),p(!1)},children:c?"Set left panel":"Set top panel"}),e("a",{className:"xpack-o-root__nav-item",href:N(t.path,!0),target:"_blank",children:"Open in new tab"})]})]}):e(f,{})},E=t=>{const{activeItem:c,setActiveItem:s}=I(),r=h=>(h.preventDefault(),window.location.hash=t.path,s(t),!1),m=c&&c.path===t.path?" xpack-o-root__nav-item--active":"";return e("a",{className:"xpack-o-root__nav-item"+m,href:N(t.path,!0),target:"inner",onClick:r,children:t.name})},L=({routes:t})=>{const{activeItem:c}=I(),[s,r]=l.useState(!1),m=l.createRef(),h=l.createRef(),[u,d]=l.useState(t),[g,n]=l.useState([]),[a,p]=l.useState("");P(m,()=>r(!1),[h]);const S=()=>{r(!s)},C=l.useCallback(y.debounce(o=>{const i=[],b=[];t.forEach(w=>{o.trim()&&o.trim().toLocaleLowerCase().split(/\s+/).some(T=>w.name.toLocaleLowerCase().includes(T))?b.push(w):i.push(w)}),n(b),d(i)},500),[]);return l.useEffect(()=>{C(a)},[C,a]),_(f,{children:[e("a",{ref:h,className:"xpack-o-root__button-close",onClick:S,children:e("button",{className:"xpack-o-root__control-button xpack-o-root__button-close",children:e("svg",{className:"xpack-o-root__control-svg",children:e("use",{xlinkHref:N("/assets/images/root.svg#"+(s?"close":"list"))})})})}),e("p",{className:"xpack-o-root__title",children:c==null?void 0:c.name}),_("div",{ref:m,className:`xpack-o-root__nav-items ${s?"show":""}`,children:[e("div",{className:"xpack-o-root__search",children:e("input",{type:"text",value:a,placeholder:"Find a pattern",onChange:o=>{p(o.target.value)}})}),_("div",{className:"xpack-o-root__items",children:[a.trim()&&e("div",{className:"xpack-o-root__search-matches",children:g.length?g.filter(o=>o.path!="/"&&o.path!="/index").sort((o,i)=>o.name<i.name?-1:o.name>i.name?1:0).map((o,i)=>e(E,{...o},i)):a.trim()&&e("div",{className:"xpack-o-root__nav-message ",children:"No pattern matches"})}),e("div",{className:`xpack-o-root__search-not-matches ${a.trim()?"blur":""}`,children:u.filter(o=>o.path!="/"&&o.path!="/index").sort((o,i)=>o.name<i.name?-1:o.name>i.name?1:0).map((o,i)=>e(E,{...o},i))})]})]})]})},B=({routes:t})=>{const[c,s]=l.useState(),[r,m]=l.useState(localStorage.getItem("MSG_IS_TOP_PANEL")==="true");l.useEffect(()=>{if(!c)return;const d=document.querySelector("#root-iframe");d&&(d.src=N(c.path,!0),document.title=c.name+" - Precise Alloy UI")},[c]);const h={activeItem:c,setActiveItem:s,isTopPanel:r,setTopPanel:m};l.useEffect(()=>{const d=window.location.hash,g=d&&d.startsWith("#/")?d.substring(1):"/pages/home",n=t.findIndex(a=>a.path===g);if(n>=0)s(t[n]);else{const a=t.findIndex(p=>p.path==="/pages/home");s(t[a])}},[t]);const u=d=>{switch(d.key){case"MSG_IS_TOP_PANEL":m(d.newValue==="true");break}};return l.useEffect(()=>(window.addEventListener("storage",u),()=>{window.removeEventListener("storage",u)}),[]),t?e(R.Provider,{value:h,children:_("div",{className:`xpack-o-root ${r?"top-panel":""}`,children:[e(L,{routes:t}),e(M,{}),e(A,{})]})}):e(f,{})};export{B as default};
//# sourceMappingURL=root.0xa6adc6b9.js.map
