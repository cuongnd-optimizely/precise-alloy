import{j as _,a as e,F as f}from"./react-loader.0x6e10aa3a.js";import{r as c,l as y}from"./vendor.0x2c817467.js";const S=c.createContext({setActiveItem:()=>{},setTopPanel:()=>{}}),C=()=>c.useContext(S),g=350,k=(t,o)=>Math.floor(Math.random()*(o-t+1)+t),T=()=>{const[t,o]=c.useState(),a=s=>{const n=document.getElementById("root-iframe-wrapper");n&&(s?n.style.maxWidth=`min(100%, ${s}px)`:n.style.removeProperty("max-width"))};return _("div",{className:"xpack-o-root__frame-control",children:[e("div",{id:"root-actual-iframe-width",className:"xpack-o-root__actual-width"}),_("div",{className:"xpack-o-root__controls",children:[e("button",{className:"xpack-o-root__control-button",onClick:()=>{t&&clearInterval(t);const s=k(g,768);a(s)},children:e("svg",{viewBox:"0 0 24 24",className:"xpack-o-root__control-svg",children:e("use",{xlinkHref:"/assets/images/root.svg#phone"})})}),e("button",{className:"xpack-o-root__control-button",onClick:()=>{t&&clearInterval(t);const s=k(768,1024);a(s)},children:e("svg",{viewBox:"0 0 24 24",className:"xpack-o-root__control-svg",children:e("use",{xlinkHref:"/assets/images/root.svg#tablet"})})}),e("button",{className:"xpack-o-root__control-button",onClick:()=>{t&&clearInterval(t);const s=document.body.clientWidth-300,n=k(1024,Math.max(1024,s));a(n)},children:e("svg",{viewBox:"0 0 24 24",className:"xpack-o-root__control-svg",children:e("use",{xlinkHref:"/assets/images/root.svg#desktop"})})}),e("button",{className:"xpack-o-root__control-button",onClick:()=>{t&&clearInterval(t),a(void 0)},children:e("svg",{viewBox:"0 0 24 24",className:"xpack-o-root__control-svg",children:e("use",{xlinkHref:"/assets/images/root.svg#hay"})})}),e("button",{className:"xpack-o-root__control-button",onClick:()=>{t&&clearInterval(t);const s=document.body.clientWidth-300,n=k(g,Math.max(g,s));a(n)},children:e("svg",{viewBox:"0 0 24 24",className:"xpack-o-root__control-svg",children:e("use",{xlinkHref:"/assets/images/root.svg#random"})})}),e("button",{className:"xpack-o-root__control-button",onClick:()=>{if(t){clearInterval(t);return}const s=setInterval(()=>{const n=document.body.clientWidth-300,p=k(g,Math.max(g,n));a(p)},2e3);o(s)},children:e("svg",{viewBox:"0 0 24 24",className:"xpack-o-root__control-svg",children:e("use",{xlinkHref:"/assets/images/root.svg#disco-ball"})})})]})]})},L=()=>{const{activeItem:t,isTopPanel:o}=C(),a="pl-show-state-selector",l=localStorage.getItem(a),i=c.createRef(),m=c.createRef();E(i,()=>n(!1),[m]);const u=x=>(x.preventDefault(),x.stopPropagation(),l?localStorage.removeItem(a):localStorage.setItem(a,"true"),location.reload(),!1),d=l?"Hide state selector":"Show state selector",v=()=>l?e(f,{}):_("div",{className:"pl-state-toggle__circles",children:[e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"}),e("div",{className:"pl-state-toggle__circle"})]}),[s,n]=c.useState(!1);return t?_("div",{children:[e("button",{ref:m,className:`xpack-o-root__control-button xpack-o-root__button-${s?"close":"setting"}`,onClick:()=>{n(!s)},children:e("svg",{viewBox:"0 0 30 30",className:"xpack-o-root__control-svg",children:e("use",{xlinkHref:s?"/assets/images/root.svg#close":"/assets/images/root.svg#setting"})})}),_("div",{ref:i,className:`xpack-o-root__active-item-options ${s?"show":""}`,children:[_("a",{className:"xpack-o-root__nav-item pl-state-toggle",href:"#",onClick:u,children:[e(v,{}),d]}),e("a",{className:"xpack-o-root__nav-item panel-position",href:"#",onClick:()=>{window.setState("MSG_IS_TOP_PANEL",o?"false":"true"),n(!1)},children:o?"Set left panel":"Set top panel"}),e("a",{className:"xpack-o-root__nav-item",href:t.path,target:"_blank",children:"Open in new tab"})]})]}):e(f,{})},I=t=>{const{activeItem:o,setActiveItem:a}=C(),l=m=>(m.preventDefault(),window.location.hash=t.path,a(t),!1),i=o&&o.path===t.path?" xpack-o-root__nav-item--active":"";return e("a",{className:"xpack-o-root__nav-item"+i,href:t.path,target:"inner",onClick:l,children:t.name})},A=({routes:t})=>{const{activeItem:o,setActiveItem:a}=C(),[l,i]=c.useState(!1),m=c.createRef(),u=c.createRef(),[d,v]=c.useState(t),[s,n]=c.useState([]),[p,w]=c.useState("");E(m,()=>i(!1),[u]);const x=()=>{i(!l)},P=c.useCallback(y.debounce(r=>{let h=[],b=[];t.forEach(N=>{r.trim()&&r.trim().toLocaleLowerCase().split(/\s+/).some(R=>N.name.toLocaleLowerCase().includes(R))?b.push(N):h.push(N)}),n(b),v(h)},500),[]);return c.useEffect(()=>{P(p)},[p]),_(f,{children:[e("a",{ref:u,className:"xpack-o-root__button-close",onClick:x,children:e("button",{className:"xpack-o-root__control-button xpack-o-root__button-close",children:e("svg",{className:"xpack-o-root__control-svg",children:e("use",{xlinkHref:`${l?"/assets/images/root.svg#close":"/assets/images/root.svg#list"}`})})})}),e("p",{className:"xpack-o-root__title",children:o==null?void 0:o.name}),_("div",{ref:m,className:`xpack-o-root__nav-items ${l?"show":""}`,children:[e("div",{className:"xpack-o-root__search",children:e("input",{type:"text",value:p,placeholder:"Find A Pattern",onChange:r=>{w(r.target.value)}})}),_("div",{className:"xpack-o-root__items",children:[p.trim()&&e("div",{className:"xpack-o-root__search-matches",children:s.length?s.filter(r=>r.path!="/").sort((r,h)=>r.name<h.name?-1:r.name>h.name?1:0).map((r,h)=>e(I,{...r},h)):p.trim()&&e("div",{className:"xpack-o-root__nav-message ",children:"No pattern matches"})}),e("div",{className:`xpack-o-root__search-not-matches ${p.trim()?"blur":""}`,children:d.filter(r=>r.path!="/").sort((r,h)=>r.name<h.name?-1:r.name>h.name?1:0).map((r,h)=>e(I,{...r},h))})]})]})]})},M=({path:t,rel:o})=>{const a=/^https?:\/\//gi.test(t)?t:t.startsWith("vendors/")?"/assets/"+t+".css":"/assets/css/"+t+".css";return e("link",{rel:o??"stylesheet",href:a,"data-pl-require":!0})};function E(t,o,a){c.useEffect(()=>{const l=i=>{!t.current||t.current.contains(i.target)||a&&a.some(m=>{var u;return(u=m.current)==null?void 0:u.contains(i.target)})||o(i)};return document.addEventListener("mousedown",l),document.addEventListener("touchstart",l),()=>{document.removeEventListener("mousedown",l),document.removeEventListener("touchstart",l)}},[t,o])}const F=({routes:t})=>{const[o,a]=c.useState(),[l,i]=c.useState(localStorage.getItem("MSG_IS_TOP_PANEL")==="true");c.useEffect(()=>{if(!o)return;const d=document.querySelector("#root-iframe");d&&(d.src=o.path,document.title=o.name+" - Precise Alloy UI")},[o]);const m={activeItem:o,setActiveItem:a,isTopPanel:l,setTopPanel:i};c.useEffect(()=>{const d=window.location.hash,v=d&&d.startsWith("#/")?d.substring(1):"/pages/home",s=t.findIndex(n=>n.path===v);if(s>=0)a(t[s]);else{const n=t.findIndex(p=>p.path==="/pages/home");a(t[n])}},[]);const u=d=>{switch(d.key){case"MSG_IS_TOP_PANEL":const v=d.newValue==="true";i(v);break}};return c.useEffect(()=>(window.addEventListener("storage",u),()=>{window.removeEventListener("storage",u)}),[]),t?_(S.Provider,{value:m,children:[_("div",{className:`xpack-o-root ${l?"top-panel":""}`,children:[e(A,{routes:t}),e(T,{}),e(L,{})]}),e(M,{path:"b-root"})]}):e(f,{})};export{F as default,E as useOnClickOutside};
//# sourceMappingURL=root.0xbbef96a8.js.map
